# 마이크로서비스 아키텍처

MSA는 기존의 전통적인 모노리식 아키텍처에서 벗어나 하나의 큰 애플리케이션을 분리 가능한 모듈로 나누어 여러개의 애플리케이션으로 나누어 변경과 조합이 가능하도록 만든 아키텍처 입니다. 각각의 MSA는 독립적으로 동작할 수 있어야 하고, 여러 다른 마이크로서비스와 연동하여 하나의 독립된 서비스를 제공할 수 있어야 합니다.

마이크로서비스 아키텍처의 등장배경을 살펴보려면 기존 모노리식과 MSA 의 장단점을 살펴볼 필요가 있습니다.

![](../../.gitbook/assets/image%20%2826%29.png)

## Monolithic Architecture

Monolithic Architecture는 서비스에 필요한 모든 로직이 하나의 프로세스로 통합되어 실행되는 구조입니다. 과거 많은 프로젝트가 Monolithic 방식으로 개발되어 왔고, 소규모 프로젝트 환경에서는 간단한 아키텍처 기반으로 빠르게 주요 아이디어를 검증/개발하고, 유지보수하기 효율적이었습니다. 하지만 빅데이터 시대에 처리해야 할 데이터의 종류와 사이즈가 커지고, 이를 처리하기 위한 컴퓨팅 파워의 필요성이 증가하게 되면서 Monolithic Architecture는 한계를 가지고 있습니다.

### Monolithic Architecture 단점

* 프로젝트 규모가 커질수록, 특정 모듈의 전체 시스템에서의 성능영향, 구조 파악이 어려움
* 빌드/배포 시간이 기능이 추가될때마다 기하급수적으로 증가
* 특정 서비스에 대해서만 sacle-out 어려움
* 특정 모듈의 장애가 서비스 전체 장애로 확대

### Monolithic Architecture 장점

* 서비스 실행 환경이 어디든 동일하고, 단순함
* 동일한 애플리케이션을 여러개 생성하여 고가용 서버 환경을 쉽게 생성
* E2E 테스트가 용이

## Micro Service Architecture

MSA 는 기존 Monolithic Architecture 안에 있는 통합된 모든 기능들을 스스로 돌아갈 수 있는 작은 단위의 서비스로 분리하고, 이를 독립적인 배포가 가능한 모듈로 분리하여 서비스가 가능한 아키텍처를 구성합니다. 여기서 의미하는 스스로 돌아갈 수 있는 작은 단위의 의미는 다른 서비스에 대한 의존성이 최소화 되어야 하고, 서비스 간의 REST API 와 같은 가벼운 통신 방식을 통해 연동 가능해야 하고, 개발자의 역량과 모듈에 특화된 개발환경을 통해 독립적인 서비스가 가능해야 함을 의미합니다. 이러한 MSA 아키텍처의 개발 철학은 Cloud Natvive 와 같은 유연한 인프라 환경에서 각 여러 분야의 개발자들이 독립적으로 로직을 설계/개발하고, 기능을 확장해 나감으로써 새로운 비지니스 모델에 유연하고 빠르게 대응할 수 있는 환경을 가능하도록 했습니다. 따라서 기존 Monolithic Legacy 를 MSA 기반으로 마이그레이션 하기 위해서는 다음과 같은 검토 사항이 필요합니다.

### MSA 적용 검토사항

* 스스로 동작할 수 있는 작은 단위의 서비스로 분리 가능해야 함.
* 독립적인 배포가 가능해야 함
* 각 마이크로 서비스는 다른 서비스에 대한 의존성이 최소화 되어야 함
* 각 마이크로 서비스 간 통신은 REST API 와 같은 가벼운 통신이어야 함

일반적으로 하나의 서비스는 전체 서비스 측면에서 일부 기능일 수 있으며, 하나의 프로젝트로 볼 수 있습니다. 비지니스 모델과 이를 지탱하기 위한 인프라의 여건에 따라 서비스의 범위와 마이크로 서비스 단위로 나누는 전략이 무엇보다 중요합니다. 따라서 기존 Monolithic Architecure 기반의 서비스를 무조건 MSA 구조로 마이그레이션 하는 것은 올바르지 않으며, MSA의 장단점을 인지하고 적용여부를 검토하는 것이 중요합니다.

### MSA 장점

